{% extends "base.html" %}

{% block title %}Student Schedule{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="container">
        <div class="mb-4">
            <h1 class="h2 fw-bold text-dark">Weekly Schedule</h1>
            <p class="mt-2 text-muted">Here is your schedule for the week.</p>
        </div>

        <div class="bg-white shadow-sm rounded mb-4">
            <div class="px-3 py-3 border-bottom">
                <h2 class="fs-5 fw-medium text-dark">Schedule</h2>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednesday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for hour in range(8, 18) %}
                        <tr>
                            <td>{{ hour }}:00 - {{ hour + 1 }}:00</td>
                            {% for day in ['M', 'T', 'W', 'R', 'F'] %}
                            <td>
                                {% for enrollment in enrollments %}
                                    {% if day in enrollment.schedule.meeting_days and hour == enrollment.schedule.start_time.hour %}
                                    <div class="bg-primary text-white p-2 rounded">
                                        <strong>{{ enrollment.schedule.course.course_code }}</strong><br>
                                        {{ enrollment.schedule.course.course_name }}<br>
                                        Room: {{ enrollment.schedule.room_number }}
                                    </div>
                                    {% endif %}
                                {% endfor %}
                            </td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}